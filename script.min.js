function allowDrop(e) {
	e.preventDefault();
}
function drag(e) {
	e.dataTransfer.setData("text", e.target.id);
}
function drop(e) {
	e.preventDefault();
	var a = e.target.getAttribute("draggable") ? e.target.parentElement : e.target;
	a.appendChild(document.getElementById(e.dataTransfer.getData("text")));
}
function getParamIfAvailabe(e, a) {
	if (new URLSearchParams(location.search).has(e)) {
		return a ? new URLSearchParams(location.search).get(e) : new URLSearchParams(location.search).getAll(e);
	}
}
var index = 0,
	style = document.createElement("style");
style.innerHTML = ".people6{display:none}";
var players = getParamIfAvailabe("players", !1)
		? getParamIfAvailabe("players", !1)
		: JSON.parse(getParamIfAvailabe("playersJSON", !0)),
	team = getParamIfAvailabe("teamsJSON", !1),
	step = 0;
switch (
	((players.length - 2) * (players.length - 6) <= 0 &&
		!team &&
		(step = getParamIfAvailabe("step", !1) ? getParamIfAvailabe("step", !1) : 0),
	Object.values(document.getElementById("forms").children).forEach(function (e) {
		index == step && (e.className += " current"),
			index < step && (e.className += " past"),
			(e.className += index < step + 1 ? " enabled" : " disabled"),
			++index;
	}),
	Object.values(document.getElementsByClassName("disabled")).forEach(function (e) {
		Object.values(e.getElementsByTagName("input")).forEach(function (e) {
			e.setAttribute("disabled", "");
		});
	}),
	step)
) {
	case 1:
		switch (
			(players.forEach(function (e, a, t) {
				("" != e && NULL != e && NULL != e) || t.splice(a, 1);
			}),
			players.length)
		) {
			case 2:
			case 3:
			case 5:
				alert("h");
				break;
			case 4:
				break;
			case 6:
				style.innerHTML = ".people4{display:none}";
				break;
			default:
				alert("An error occured."), (location.href = "players.html");
		}

		document.getElementById("players").setAttribute("value", JSON.stringify(players));
		break;
	case 2:
		Object.values(document.getElementById("dragForm").getElementsByClassName("draggable")).forEach(function (e) {
			e.setAttribute("draggable", "TRUE"), e.setAttribute("ondragstart", "drag(event)");
		}),
			Object.values(document.getElementById("dragForm").getElementsByClassName("dropTarget")).forEach(function (
				e,
			) {
				e.setAttribute("ondrop", "drop(event)"), e.setAttribute("ondragover", "allowDrop(event)");
			});
}

document.head.appendChild(style);
